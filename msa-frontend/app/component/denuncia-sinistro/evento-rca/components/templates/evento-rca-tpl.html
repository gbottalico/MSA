<div class="containerHeader">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 container boxShadow">
        <div class="header" ng-class="{'is-ok': eventoRcaForm.$pristine && eventoRcaForm.$valid, 'has-error': !eventoRcaForm.$pristine || !eventoRcaForm.$valid}">
            <h1 class="titleSection">{{'global.eventorca.title' | translate}}</h1>
        </div>
    </div>
</div>

<div class="containerBody">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 container boxShadow">
        <div class="body">

            <div class="margin-top-1 col-lg-12">
                <span class="subsectionTitle">{{'global.eventorca.labels.dettaglievento' | translate}}</span>
            </div>

            <form name="eventoRcaForm" novalidate>

                <div class="row">
                <!--INPUT RADIO-->

                    <pre ng-if="$debugMode">{{$ctrl.eventoRca}}</pre>

                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 classicInputRadio">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 noPaddingLeft">
                            <input name="collisione"
                                   type="radio"
                                   ng-value="true"
                                   ng-model="$ctrl.eventoRca.collisione"
                                   ng-required="true">
                            <label class="rightLabel">{{'global.generic.si' | translate}}</label>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 noPaddingRight">
                            <input name="collisione"
                                   type="radio"
                                   ng-value="false"
                                   ng-model="$ctrl.eventoRca.collisione"
                                   ng-required="true">
                            <label class="rightLabel">{{'global.generic.no' | translate}}</label>
                        </div>
                        <label>{{'global.eventorca.labels.collisione' | translate}}</label>
                    </div>
                    <!--END INPUT RADIO-->

                    <!--INPUT TEXT-->
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 classicInputText">
                        <input name="numVeicoli"
                               type="number"
                               ng-model="$ctrl.eventoRca.nveicoli"
                               min="1"
                               ng-disabled="!$ctrl.eventoRca.collisione"
                               ng-required="$ctrl.eventoRca.collisione">
                        <label>{{'global.eventorca.labels.nveicoli' | translate}}</label>
                    </div>
                    <!--END INPUT TEXT-->

                    <div class="col-lg-offset-6 col-md-offset-6 hidden-sm hidden-xs">&nbsp;</div>
                </div>
                <div class="row">

                    <div class="col-lg-12">
                        <hr class="blueLine"/>
                    </div>
                    <!-- Luogo Sinistro -->
                    <div class="col-lg-12"><span class="subsectionTitle">Autorita</span></div>
                    <!-- TODO Stringhe Scolpite-->

                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 classicInputRadio">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 noPaddingLeft">
                            <input name="autorita"
                                   type="radio"
                                   ng-value="true"
                                   ng-model="$ctrl.eventoRca.interventoAutorita"
                                   ng-required="true">
                            <label class="rightLabel">{{'global.generic.si' | translate}}</label>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 noPaddingRight">
                            <input name="autorita"
                                   type="radio"
                                   ng-value="false"
                                   ng-model="$ctrl.eventoRca.interventoAutorita"
                                   ng-required="true">
                            <label class="rightLabel">{{'global.generic.no' | translate}}</label>
                        </div>
                        <label>{{'global.eventorca.labels.autorita' | translate}}</label>
                    </div>

                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 classicInputText" ng-if="$ctrl.eventoRca.interventoAutorita">
                        <select name="autorita"
                                ng-model="$ctrl.eventoRca.autoritaIntervenuta"
                                ng-required="true">
                            <option ng-repeat="autorita in $ctrl.autorita" ng-value="{{autorita.id}}" >{{autorita.descrizione}}</option>
                        </select>
                        <label>{{'global.eventorca.labels.qualiautorita' | translate}}</label>
                    </div>

                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 classicInputText" ng-if="$ctrl.eventoRca.interventoAutorita">
                        <input name="comandoAutorita"
                               type="text"
                               ng-model="$ctrl.eventoRca.comandoAutorita"
                               ng-required="false">
                        <label>{{'global.eventorca.labels.comando' | translate}}</label>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 classicInputText" ng-if="$ctrl.eventoRca.interventoAutorita">

                        <p class="input-group">
                            <input datetimepicker-neutral-timezone type="text"
                                   uib-datepicker-popup="{{$MSAC.DEFAULT_DATE_OPTIONS.format}}"
                                   ng-model="$ctrl.eventoRca.dataDenuncia"
                                   is-open="openedDataDenuncia"
                                   datepicker-options="$MSAC.DEFAULT_DATE_OPTIONS.options"
                                   show-button-bar="{{$MSAC.DEFAULT_DATE_OPTIONS.showButtonBar}}"
                                   placeholder="{{$MSAC.DEFAULT_DATE_OPTIONS.placeholder}}"
                                   ng-required="true"
                                   name="dataDenuncia"
                            />

                            <span class="input-group-btn">
                                <button type="button"
                                        class="btn btn-default btn-special"
                                        ng-click="openedDataDenuncia = !openedDataDenuncia">
                                    <i class="fa fa-calendar-o" aria-hidden="true"></i>
                                </button>
                            </span>
                        </p>
                        <label>{{'global.eventorca.labels.datadenuncia' | translate}}</label>
                    </div>
                </div>

            </form>
            <div class="row">
                <div class="col-lg-12 classicButton">
                    <button class="blueButton" ng-click="$ctrl.salvaEventoRca()" ng-disabled="eventoRcaForm.$invalid">
                        <a><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;{{'global.generic.salvaprocedi' | translate}}</a>
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>